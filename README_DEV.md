# Developer Notes

## Prerequisites
- Windows + PowerShell
- CMake + Ninja
- Android NDK r28+ (tested with 28.2.13676358)
- QPM in PATH

## Configure NDK
Set one of the following env vars so `cmake/targets/android-ndk.cmake` can find the NDK:

```powershell
# replace to your actual path
$env:ANDROID_NDK_HOME = "C:\Android\Sdk\ndk\28.2.13676358"
# or
$env:ANDROID_NDK_LATEST_HOME = "C:\Android\Sdk\ndk\28.2.13676358"
```

## Restore Dependencies
```powershell
qpm restore -u *> qpm-restore.log
```

`extern/` is generated by QPM restore; in this repo it is tracked to keep Quest headers/libs consistent.

## Build
```powershell
cmake -S . -B build -G Ninja -DCMAKE_BUILD_TYPE=RelWithDebInfo
cmake --build build
```

## Package (.qmod)
```powershell
powershell -ExecutionPolicy Bypass -File scripts\createqmod.ps1
```

## Kakasi Adapter Mod (GPL)
Kakasi-based romaji is provided by a separate GPL adapter mod in
`Beat-Saber-Airbuds-Search-Kakasi`.

Build and package that mod from its repo. This repo will detect it at runtime and use
its converter if installed.
